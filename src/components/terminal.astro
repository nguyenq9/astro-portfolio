<div id="terminal">
  <div id="output">
    <pre>
      ████████╗██╗  ██╗ █████╗ ██╗    ███╗   ██╗ ██████╗ ██╗   ██╗██╗   ██╗███████╗███╗   ██╗
      ╚══██╔══╝██║  ██║██╔══██╗██║    ████╗  ██║██╔════╝ ██║   ██║╚██╗ ██╔╝██╔════╝████╗  ██║
         ██║   ███████║███████║██║    ██╔██╗ ██║██║  ███╗██║   ██║ ╚████╔╝ █████╗  ██╔██╗ ██║
         ██║   ██╔══██║██╔══██║██║    ██║╚██╗██║██║   ██║██║   ██║  ╚██╔╝  ██╔══╝  ██║╚██╗██║
         ██║   ██║  ██║██║  ██║██║    ██║ ╚████║╚██████╔╝╚██████╔╝   ██║   ███████╗██║ ╚████║
         ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝    ╚═╝  ╚═══╝ ╚═════╝  ╚═════╝    ╚═╝   ╚══════╝╚═╝  ╚═══╝
    </pre>
    <span
      >For a list of available commands, type <span id="help-text">'help'</span
      >.<br /></span
    >
  </div>
  <div id="input-container">
    <span>guest@thainguyen.com:~$</span>
    <div id="input-wrapper">
      <input
        type="text"
        id="input"
        autofocus
        spellcheck="false"
        autocomplete="off"
        name="command"
        maxlength="20"
      />
      <div id="cursor"></div>
    </div>
  </div>
</div>

<!-- <script is:inline src="../js/Terminal.js"></script> -->

<script>
  const outputDiv = document.getElementById("output");
  const inputField = document.getElementById("input");
  inputField.style.width = inputField.value.length + "ch";

  function executeCommand(command) {
    displayOutput(
      `<span id="commandSignature" style="color:#21f838;line-height:1.5;margin-right:4px">guest@thainguyen.com:~$</span>&nbsp${command}`
    );
    exec(command);
    inputField.scrollIntoView();
  }

  function displayOutput(output) {
    outputDiv.innerHTML += `<span style="line-height:1.5;">${output}<br></span>`;
  }

  function displayHelp() {
    outputDiv.innerHTML += `
        <pre style="line-height:0;"> 
  <span id="commandOptions" >about</span>              <span>Who is Thai?<br></span>
  <span id="commandOptions" >projects</span>           <span>View coding projects<br></span>
  <span id="commandOptions" >social</span>             <span>Display social media links<br></span>
  <span id="commandOptions" >help</span>               <span>Displays available commands<br></span>
  <span id="commandOptions" >banner</span>             <span>Display the header<br></span>
  <span id="commandOptions" >trivia</span>             <span>Get a random general knowledge trivia question<br></span>
  <span id="commandOptions" >clear</span>              <span>Clear the terminal<br></span>
        </pre>
    `;
  }

  function displaySocial() {
    outputDiv.innerHTML += `
    <pre style="line-height:00;"> 
  <span id="socialOptions" >github</span>             <span id="socialLinks"><a href="https://github.com/nguyenq9" target="_blank">github/thainguyen</a><br></span>
  <span id="socialOptions" >linkedin</span>           <span id="socialLinks"><a href="https://www.linkedin.com/in/quoc-thai-nguyen-589261223/" target="_blank">linkedin/thainguyen</a><br></span>
  <span id="socialOptions" >instagram</span>          <span id="socialLinks"><a href="https://www.instagram.com/thainguyen.exe/" target="_blank">instagram/thainguyen</a><br></span>
    </pre>
  `;
  }

  function displayProjects() {
    displayOutput(
      "Still curating... most projects are offline, on GitHub, or confidential."
    );
  }

  function displayAbout() {
    outputDiv.innerHTML += `
  <pre style="line-height:1.5">
  Hi, my name is Thai Nguyen!👋
  I'm a budding web developer and Computer Science student at Western Washington University. 
  I like to build engaging websites and make cool apps using AI tools like Azure Computer Vision 
  and Vertex AI. In the past, I was a math and computer science tutor at Western, helping students
  better understand concepts taught in their classes. I'm currently working for Western's 
  Web Communications Technology team to build web pages and web apps that will help the university. 
  When I'm not in class or at work, you can find me playing pickleball, disc golf, or trying new recipes. 
  </pre>
  `;
  }

  function displayBanner() {
    outputDiv.innerHTML += `
      <pre>
        ████████╗██╗  ██╗ █████╗ ██╗    ███╗   ██╗ ██████╗ ██╗   ██╗██╗   ██╗███████╗███╗   ██╗
        ╚══██╔══╝██║  ██║██╔══██╗██║    ████╗  ██║██╔════╝ ██║   ██║╚██╗ ██╔╝██╔════╝████╗  ██║
           ██║   ███████║███████║██║    ██╔██╗ ██║██║  ███╗██║   ██║ ╚████╔╝ █████╗  ██╔██╗ ██║
           ██║   ██╔══██║██╔══██║██║    ██║╚██╗██║██║   ██║██║   ██║  ╚██╔╝  ██╔══╝  ██║╚██╗██║
           ██║   ██║  ██║██║  ██║██║    ██║ ╚████║╚██████╔╝╚██████╔╝   ██║   ███████╗██║ ╚████║
           ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝    ╚═╝  ╚═══╝ ╚═════╝  ╚═════╝    ╚═╝   ╚══════╝╚═╝  ╚═══╝
      </pre>                        
        <span>For a list of available commands, type <span id="help-text">'help'</span>.<br></span>`;
  }

  function exec(command) {
    switch (command) {
      case "clear":
        outputDiv.innerHTML = "";
        break;
      case "help":
        displayHelp();
        break;
      case "banner":
        displayBanner();
        break;
      case "social":
        displaySocial();
        break;
      case "projects":
        displayProjects();
        break;
      case "about":
        displayAbout();
        break;
      case "trivia":
        // displayTrivia();
        break;
      default:
        displayOutput("Command not recognized.");
    }
  }

  inputField.addEventListener("keypress", function (event) {
    if (event.key === "Enter") {
      console.log(inputField.value)
      const command = inputField.value.trim();
      if (command !== "") {
        executeCommand(command);
        inputField.value = "";
      }
      this.style.width = this.value.length + "ch";
      return;
    }

    if (this.value.length >= 20) {
      return;
    }
    this.style.width = this.value.length + 1 + "ch";
  });

  inputField.addEventListener("keydown", function (event) {
    if (event.key === "Backspace") {
      this.style.width = this.value.length - 1 + "ch";
    }
  });
</script>

<style is:global>
  #terminal {
    /* width: 70%; */
    margin: 0 auto;
    /* background-color: red; */
    padding: 20px;
  }

  #input-container {
    display: flex;
  }

  #input-container span {
    color: #00ff00;
    /* background-color: red; */
    line-height: 1.5;
  }

  #input-wrapper {
    display: flex;
    align-items: center;
    margin-left: 10px; /* Adjust spacing between span and input */
  }

  #input {
    /* caret-color: red; */
    caret-color: transparent;
    font-family: monospace;
    color: #fff;
    border: none;
    background-color: transparent;
    /* background-color: red; */
    resize: none;
    outline: none;
    width: min-content;
    font-size: 15px;
  }

  #cursor {
    width: 8px;
    height: 18px;
    background: #21f838;
    animation: blink-animation 1s step-end infinite;
    z-index: 2;
  }

  #commandSignature {
    color: #21f838;
  }

  @keyframes blink-animation {
    50% {
      opacity: 0;
    }
  }

  #help-text {
    color: red;
    text-shadow: red 2px 0 5px;
  }

  #commandOptions {
    line-height: 1.5;
    /* margin-left: 2em */
    color: fuchsia;
    text-shadow: fuchsia 2px 0 5px;
  }

  #socialOptions {
    line-height: 1.5;
    /* margin-left: 2em */
    color: cyan;
    text-shadow: cyan 2px 0 5px;
  }

  #socialLinks a {
    text-decoration: none;
    color: #fcefef;
  }

  #socialLinks a:hover {
    color: black;
    background-color: #fcefef;
  }
</style>